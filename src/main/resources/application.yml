server:
  port: 8080

spring:
  application:
    name: AgenticRAG

  # ==================== 数据库配置 ====================
  datasource:
    url: jdbc:mysql://localhost:3306/agentic_rag?useUnicode=true&characterEncoding=utf-8&serverTimezone=Asia/Shanghai
    username: root
    password: your_password
    driver-class-name: com.mysql.cj.jdbc.Driver
    hikari:
      minimum-idle: 5
      maximum-pool-size: 20
      idle-timeout: 30000
      connection-timeout: 30000

  # ==================== Redis配置 (用于Memory) ====================
  data:
    redis:
      host: localhost
      port: 6379
      password:
      database: 0
      timeout: 10000ms

  # ==================== Spring AI 配置 ====================
  ai:
    openai:
      api-key: ${OPENAI_API_KEY:your-api-key}
      base-url: ${OPENAI_BASE_URL:https://api.openai.com}
      chat:
        options:
          model: gpt-4o
          temperature: 0.7
      embedding:
        options:
          model: text-embedding-3-small

    # Milvus 向量数据库配置
    vectorstore:
      milvus:
        host: localhost
        port: 19530
        database-name: agentic_rag
        collection-name: document_embeddings
        embedding-dimension: 1536

# ==================== MyBatis-Plus 配置 ====================
mybatis-plus:
  mapper-locations: classpath:/mapper/**/*.xml
  type-aliases-package: cn.nihiler.agenticrag.entity
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  global-config:
    db-config:
      id-type: auto
      logic-delete-field: deleted
      logic-delete-value: 1
      logic-not-delete-value: 0

# ==================== 自定义配置 ====================
agentic:
  rag:
    # 语义路由配置
    router:
      enabled: true
    # 自省重试次数
    reflection:
      max-retries: 3
    # Web搜索配置 (Tavily API)
    web-search:
      enabled: true
      api-key: ${TAVILY_API_KEY:your-tavily-api-key}
      base-url: https://api.tavily.com

# ==================== 日志配置 ====================
logging:
  level:
    cn.nihiler.agenticrag: DEBUG
    org.springframework.ai: DEBUG


